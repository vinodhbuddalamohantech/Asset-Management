datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Assets {
  id               String               @id @default(cuid())
  createdAt        DateTime             @default(now())
  updatedAt        DateTime             @updatedAt
  name             String?
  description      String?
  typeField        EnumAssetsTypeField?
  status           EnumAssetsStatus?
  assignmentsItems Assignments[]
  department       Departments?         @relation(fields: [departmentId], references: [id])
  departmentId     String?
}

model Assignments {
  id             String    @id @default(cuid())
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
  assignmentDate DateTime?
  returnDate     DateTime?
  user           User?     @relation(fields: [userId], references: [id])
  userId         String?
  asset          Assets?   @relation(fields: [assetId], references: [id])
  assetId        String?
}

model User {
  id               String        @id @default(cuid())
  createdAt        DateTime      @default(now())
  updatedAt        DateTime      @updatedAt
  firstName        String?
  lastName         String?
  username         String        @unique
  email            String?       @unique
  password         String
  roles            Json
  name             String?
  role             EnumUserRole?
  assignmentsItems Assignments[]
  auditLogsItems   AuditLogs[]
}

model Departments {
  id          String   @id @default(cuid())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  name        String?
  description String?
  assetsItems Assets[]
}

model AuditLogs {
  id        String    @id @default(cuid())
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  details   String?
  event     String?
  timestamp DateTime?
  user      User?     @relation(fields: [userId], references: [id])
  userId    String?
}

enum EnumAssetsTypeField {
  Option1
}

enum EnumAssetsStatus {
  Option1
}

enum EnumUserRole {
  Option1
}
